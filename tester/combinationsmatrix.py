#!/usr/bin/env python3

__all__ = [ "getMatrix" ]

def update ( dest, add ):
    """ an update routine that appends to containers if they exist """
    for k,v in add.items():
        if not k in dest:
            dest[k]=[]
        for i in v:
            dest[k].append ( i )
    return dest

def getMatrix():
    """ compile the final matrix at the level of analyses from a few sources """
    ## first the handcrafted ones from 2020
    allowedATLAS8TeV = { "ATLAS-SUSY-2013-02": [ "ATLAS-SUSY-2013-04", "ATLAS-SUSY-2013-11" ],
              "ATLAS-CONF-2013-024": [ "ATLAS-CONF-2013-037", "ATLAS-CONF-2013-048", "ATLAS-CONF-2013-062", "ATLAS-CONF-2013-093", "ATLAS-SUSY-2013-09", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-12", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-19", "ATLAS-SUSY-2013-23" ],
              "ATLAS-CONF-2013-037": [ "ATLAS-CONF-2013-024", "ATLAS-CONF-2013-047", "ATLAS-CONF-2013-048", "ATLAS-CONF-2013-053", "ATLAS-CONF-2013-054", "ATLAS-SUSY-2013-02", "ATLAS-SUSY-2013-04", "ATLAS-SUSY-2013-05", "ATLAS-SUSY-2013-09", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-12", "ATLAS-SUSY-2013-16", "ATLAS-SUSY-2013-19" ],
              "ATLAS-CONF-2013-047": [ "ATLAS-CONF-2013-037", "ATLAS-CONF-2013-048", "ATLAS-CONF-2013-062", "ATLAS-CONF-2013-093", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-09", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-12", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-19", "ATLAS-SUSY-2013-23" ],
              "ATLAS-CONF-2013-048": [ "ATLAS-CONF-2013-024", "ATLAS-CONF-2013-037", "ATLAS-CONF-2013-047", "ATLAS-CONF-2013-053", "ATLAS-CONF-2013-054", "ATLAS-CONF-2013-062", "ATLAS-CONF-2013-093", "ATLAS-SUSY-2013-02", "ATLAS-SUSY-2013-04", "ATLAS-SUSY-2013-05", "ATLAS-SUSY-2013-12", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-16", "ATLAS-SUSY-2013-18", "ATLAS-SUSY-2013-23", "ATLAS-SUSY-2013-02", "ATLAS-SUSY-2013-04", "ATLAS-SUSY-2013-05", "ATLAS-SUSY-2013-04", "ATLAS-SUSY-2013-02", "ATLAS-SUSY-2013-05", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-16", "ATLAS-SUSY-2013-18", "ATLAS-SUSY-2013-21", "ATLAS-SUSY-2014-03" ],
              "ATLAS-CONF-2013-053": [ "ATLAS-CONF-2013-062", "ATLAS-CONF-2013-093", "ATLAS-CONF-2013-007", "ATLAS-CONF-2013-089", "ATLAS-SUSY-2013-09", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-12", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-19", "ATLAS-SUSY-2013-23", "ATLAS-CONF-2013-037", "ATLAS-CONF-2013-048", "ATLAS-CONF-2013-062", "ATLAS-CONF-2013-093", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-15" ],
              "ATLAS-CONF-2013-054": [ "ATLAS-CONF-2013-062", "ATLAS-CONF-2013-093", "ATLAS-CONF-2013-007", "ATLAS-CONF-2013-089", "ATLAS-SUSY-2013-02", "ATLAS-SUSY-2013-05", "ATLAS-SUSY-2013-09", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-12", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-16", "ATLAS-SUSY-2013-19", "ATLAS-SUSY-2013-23", "ATLAS-CONF-2013-024", "ATLAS-CONF-2013-037", "ATLAS-CONF-2013-047", "ATLAS-CONF-2013-048", "ATLAS-CONF-2013-062", "ATLAS-CONF-2013-093", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-21" ],
              "ATLAS-SUSY-2013-02": [ "ATLAS-CONF-2013-007", "ATLAS-CONF-2013-089", "ATLAS-CONF-2013-037", "ATLAS-CONF-2013-048", "ATLAS-CONF-2013-062", "ATLAS-CONF-2013-093", "ATLAS-SUSY-2013-09", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-12", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-19", "ATLAS-SUSY-2013-23" ],
              "ATLAS-SUSY-2013-04": [ "ATLAS-CONF-2013-007", "ATLAS-CONF-2013-089", "ATLAS-CONF-2013-037", "ATLAS-CONF-2013-048", "ATLAS-CONF-2013-062", "ATLAS-CONF-2013-093", "ATLAS-SUSY-2013-09", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-12", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-19", "ATLAS-SUSY-2013-23" ],
              "ATLAS-SUSY-2013-09": [ "ATLAS-SUSY-2013-02", "ATLAS-SUSY-2013-04", "ATLAS-SUSY-2013-05", "ATLAS-SUSY-2013-12", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-16", "ATLAS-SUSY-2013-18", "ATLAS-SUSY-2013-19", "ATLAS-SUSY-2013-23" ],
              "ATLAS-SUSY-2013-11": [ "ATLAS-SUSY-2013-02", "ATLAS-SUSY-2013-04", "ATLAS-SUSY-2013-05", "ATLAS-SUSY-2013-12", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-16", "ATLAS-SUSY-2013-18", "ATLAS-SUSY-2013-23" ],
              "ATLAS-SUSY-2013-12": [ "ATLAS-SUSY-2013-02", "ATLAS-SUSY-2013-04", "ATLAS-SUSY-2013-05", "ATLAS-SUSY-2013-08", "ATLAS-SUSY-2013-09", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-16", "ATLAS-SUSY-2013-18", "ATLAS-SUSY-2013-19", "ATLAS-SUSY-2013-23", "ATLAS-CONF-2013-007", "ATLAS-CONF-2013-089" ],
              "ATLAS-SUSY-2013-15": [ "ATLAS-SUSY-2013-02", "ATLAS-SUSY-2013-04", "ATLAS-SUSY-2013-05", "ATLAS-SUSY-2013-09", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-12", "ATLAS-SUSY-2013-16", "ATLAS-SUSY-2013-19", "ATLAS-CONF-2013-007", "ATLAS-CONF-2013-089" ],
              "ATLAS-SUSY-2013-16": [ "ATLAS-SUSY-2013-02", "ATLAS-SUSY-2013-09", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-12", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-19", "ATLAS-SUSY-2013-23" ],
              "ATLAS-SUSY-2013-18": [ "ATLAS-SUSY-2013-09", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-12", "ATLAS-SUSY-2013-19", "ATLAS-SUSY-2013-23" ],
              "ATLAS-SUSY-2014-03": [ "ATLAS-CONF-2013-037", "ATLAS-CONF-2013-048", "ATLAS-CONF-2013-062", "ATLAS-CONF-2013-093", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-21" ],
              "ATLAS-SUSY-2013-21": [ "ATLAS-CONF-2013-037", "ATLAS-CONF-2013-048", "ATLAS-CONF-2013-062", "ATLAS-CONF-2013-093", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-15" ],
              "ATLAS-SUSY-2013-18": [ "ATLAS-CONF-2013-048", "ATLAS-SUSY-2013-11" ],
              "ATLAS-SUSY-2013-16": [ "ATLAS-CONF-2013-037", "ATLAS-CONF-2013-048", "ATLAS-CONF-2013-062", "ATLAS-CONF-2013-093", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-15" ],
              "ATLAS-SUSY-2013-15": [ "ATLAS-CONF-2013-024", "ATLAS-CONF-2013-047", "ATLAS-CONF-2013-048", "ATLAS-CONF-2013-053", "ATLAS-CONF-2013-054", "ATLAS-SUSY-2013-02", "ATLAS-SUSY-2013-04", "ATLAS-SUSY-2013-05", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-16", "ATLAS-SUSY-2013-21", "ATLAS-SUSY-2014-03" ],
              "ATLAS-SUSY-2013-11": [ "ATLAS-CONF-2013-024", "ATLAS-CONF-2013-037", "ATLAS-CONF-2013-047", "ATLAS-CONF-2013-053", "ATLAS-CONF-2013-054", "ATLAS-CONF-2013-062", "ATLAS-CONF-2013-093", "ATLAS-SUSY-2013-02", "ATLAS-SUSY-2013-04", "ATLAS-SUSY-2013-05", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-16", "ATLAS-SUSY-2013-18", "ATLAS-SUSY-2013-21", "ATLAS-SUSY-2014-03" ],
              "ATLAS-SUSY-2013-05": [ "ATLAS-CONF-2013-007", "ATLAS-CONF-2013-089", "ATLAS-SUSY-2013-09", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-12", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-19", "ATLAS-SUSY-2013-23", "ATLAS-CONF-2013-037", "ATLAS-CONF-2013-048", "ATLAS-CONF-2013-062", "ATLAS-CONF-2013-093", "ATLAS-SUSY-2013-11", "ATLAS-SUSY-2013-15", "ATLAS-SUSY-2013-21" ],
              "ATLAS-CONF-2013-061": [ "ATLAS-SUSY-2013-21", ] ,

    }
    allowedCMS8TeV = {
                         "CMS-SUS-13-012": [ "CMS-SUS-13-007", "CMS-SUS-13-013" ],
                         "CMS-SUS-12-024": [ "CMS-SUS-13-007", "CMS-SUS-13-013" ],
                         "CMS-SUS-13-007": [ "CMS-SUS-12-024", "CMS-SUS-13-012", "CMS-SUS-13-013", "CMS-EXO-12-026", "CMS-PAS-SUS-13-016", "CMS-PAS-SUS-13-018", "CMS-PAS-SUS-13-023" ],
                         "CMS-SUS-13-002": [ "CMS-EXO-12-026", "CMS-PAS-SUS-13-016", "CMS-PAS-SUS-13-018", "CMS-PAS-SUS-13-023", "CMS-SUS-12-024", "CMS-SUS-12-028", "CMS-SUS-13-007", "CMS-SUS-13-011", "CMS-SUS-13-012", "CMS-SUS-13-013", "CMS-SUS-13-019", "CMS-SUS-14-021" ],
                         "CMS-SUS-14-021": [ "CMS-EXO-12-026", "CMS-PAS-SUS-13-016", "CMS-SUS-13-002", "CMS-SUS-13-007", "CMS-SUS-13-011", "CMS-SUS-13-013" ],
                         "CMS-SUS-14-010": [ "CMS-EXO-12-026" ],
                         "CMS-SUS-13-013": [ "CMS-PAS-SUS-13-016", "CMS-EXO-12-026", "CMS-PAS-SUS-13-018", "CMS-PAS-SUS-13-023", "CMS-SUS-12-024", "CMS-SUS-12-028", "CMS-SUS-13-002", "CMS-SUS-13-007", "CMS-SUS-13-011", "CMS-SUS-13-012", "CMS-SUS-13-019", "CMS-SUS-14-021" ],
                         "CMS-SUS-13-012": [ "CMS-EXO-12-026", "CMS-PAS-SUS-13-016", "CMS-SUS-13-002", "CMS-SUS-13-007", "CMS-SUS-13-011", "CMS-SUS-13-013" ],
                         "CMS-SUS-12-028": [ "CMS-EXO-12-026", "CMS-PAS-SUS-13-016", "CMS-SUS-13-002", "CMS-SUS-13-007", "CMS-SUS-13-011", "CMS-SUS-13-013" ],
                         "CMS-SUS-12-024": [ "CMS-EXO-12-026", "CMS-PAS-SUS-13-016", "CMS-SUS-13-002", "CMS-SUS-13-007", "CMS-SUS-13-011", "CMS-SUS-13-013" ],
                         "CMS-PAS-SUS-13-016": [ "CMS-SUS-13-013", "CMS-EXO-12-026", "CMS-PAS-SUS-13-018", "CMS-PAS-SUS-13-023", "CMS-SUS-12-024", "CMS-SUS-12-028", "CMS-SUS-13-002", "CMS-SUS-13-007", "CMS-SUS-13-011", "CMS-SUS-13-012", "CMS-SUS-13-019", "CMS-SUS-14-021" ],
                         "CMS-SUS-13-015": [ "CMS-EXO-12-026", "CMS-PAS-SUS-13-016", "CMS-SUS-13-002", "CMS-SUS-13-007", "CMS-SUS-13-011", "CMS-SUS-13-013" ],
                         "CMS-EXO-13-006": [ "CMS-SUS-*", "CMS-PAS-SUS-*" ],
                         "CMS-EXO-12-026": [ "CMS-SUS-*", "CMS-PAS-SUS-*" ],
    }

    allowedCMS13TeV = {
        "CMS-SUS-16-009": [ "CMS-SUS-17-009", "CMS-PAS-EXO-16-036", "CMS-SUS-16-051", "CMS-SUS-17-001", "CMS-SUS-16-042", "CMS-SUS-16-041", "CMS-SUS-16-039", "CMS-SUS-16-037", "CMS-SUS-16-035", "CMS-SUS-16-034" ], ## all hadronic
        "CMS-SUS-17-004": [ "CMS-PAS-EXO-16-036" ], # Chargino-neutralino production with WZ topology, combination paper
        "CMS-SUS-17-005": [ "CMS-SUS-19-006", "CMS-SUS-19-006-2", "CMS-SUS-16-009", "CMS-SUS-17-006", "CMS-SUS-16-033", "CMS-SUS-17-009", "CMS-PAS-EXO-16-036", "CMS-SUS-16-051", "CMS-SUS-17-001", "CMS-SUS-16-042", "CMS-SUS-16-041", "CMS-SUS-16-039", "CMS-SUS-16-037", "CMS-SUS-16-035", "CMS-SUS-16-034"  ], # multijets + Etmiss, top tagging
        "CMS-SUS-17-006": [ "CMS-SUS-17-009", "CMS-PAS-EXO-16-036", "CMS-SUS-16-051", "CMS-SUS-17-001", "CMS-SUS-16-042", "CMS-SUS-16-041", "CMS-SUS-16-039", "CMS-SUS-16-037", "CMS-SUS-16-035", "CMS-SUS-16-034" ], # High momentum Higgs Boson+ Etmiss, no leptons in SR
        "CMS-SUS-17-009": [ "CMS-SUS-16-009", "CMS-SUS-17-005", "CMS-SUS-17-006", "CMS-SUS-18-002", "CMS-SUS-16-033", "CMS-SUS-16-036", "CMS-SUS-16-032", "CMS-SUS-16-045", "CMS-SUS-16-046", "CMS-SUS-16-047", "CMS-SUS-16-049", "CMS-SUS-16-050" ], # leptons + Etmiss
        "CMS-SUS-17-010": [ "CMS-SUS-16-033", "CMS-SUS-19-006", "CMS-SUS-19-006-2", "CMS-SUS-16-049", "CMS-PAS-EXO-16-036", "CMS-SUS-16-051", "CMS-SUS-16-042", "CMS-SUS-16-041", "CMS-SUS-16-039", "CMS-SUS-16-037", "CMS-SUS-16-035", "CMS-SUS-16-036", "CMS-SUS-17-005", "CMS-SUS-16-032", "CMS-SUS-18-002", "CMS-SUS-16-046", "CMS-SUS-19-006", "CMS-PAS-SUS-17-004", "CMS-SUS-16-009", "CMS-SUS-16-043", "CMS-SUS-16-047", "CMS-PAS-SUS-16-022", "CMS-SUS-17-006" ], # hadronic stop, 2 OS leptons
        "CMS-SUS-18-002": [ "CMS-SUS-16-033", "CMS-SUS-19-006", "CMS-SUS-19-006-2", "CMS-SUS-17-005", "CMS-SUS-17-009", "CMS-PAS-EXO-16-036", "CMS-SUS-16-051", "CMS-SUS-17-001", "CMS-SUS-16-042", "CMS-SUS-16-041", "CMS-SUS-16-039", "CMS-SUS-16-037", "CMS-SUS-16-035", "CMS-SUS-16-034" ], # photon, jets, b-jets+ Etmiss, top tagging, lepton veto
        "CMS-SUS-19-006": [ "CMS-SUS-17-009", "CMS-PAS-EXO-16-036", "CMS-SUS-16-051", "CMS-SUS-17-001", "CMS-SUS-16-042", "CMS-SUS-16-041", "CMS-SUS-16-039", "CMS-SUS-16-037", "CMS-SUS-16-035", "CMS-SUS-16-034", "CMS-PAS-SUS-16-022", "CMS-PAS-SUS-17-004", "CMS-SUS-16-043", "CMS-SUS-18-002", "CMS-SUS-17-005" ], # 0L + multijets with MHT
        "CMS-PAS-EXO-16-036": [ "CMS-PAS-SUS-*", "CMS-SUS-*" ], # hscp search
        "CMS-PAS-SUS-16-022": [ "CMS-PAS-EXO-16-036", "CMS-PAS-SUS-16-052", "CMS-SUS-16-032", "CMS-SUS-16-033", "CMS-SUS-16-034", "CMS-SUS-16-035", "CMS-SUS-16-036", "CMS-SUS-16-037", "CMS-SUS-16-042", "CMS-SUS-16-045", "CMS-SUS-16-046", "CMS-SUS-16-047", "CMS-SUS-16-049", "CMS-SUS-16-050", "CMS-SUS-16-051", "CMS-SUS-17-001" ], # >= 3 leptons + Etmiss
        "CMS-SUS-16-051": [ "CMS-PAS-EXO-16-036", "CMS-PAS-SUS-16-022", "CMS-PAS-SUS-16-052", "CMS-PAS-SUS-17-004", "CMS-SUS-16-032", "CMS-SUS-16-033", "CMS-SUS-16-034", "CMS-SUS-16-035", "CMS-SUS-16-036", "CMS-SUS-16-039", "CMS-SUS-16-041", "CMS-SUS-16-045", "CMS-SUS-16-046", "CMS-SUS-16-047", "CMS-SUS-16-049", "CMS-SUS-16-050", "CMS-SUS-17-001", "CMS-PAS-SUS-16-052-agg" ], # 1L stop
        "CMS-SUS-16-050": [ "CMS-PAS-EXO-16-036", "CMS-PAS-SUS-16-022", "CMS-PAS-SUS-17-004", "CMS-SUS-16-034", "CMS-SUS-16-035", "CMS-SUS-16-037", "CMS-SUS-16-039", "CMS-SUS-16-041", "CMS-SUS-16-042", "CMS-SUS-16-051" ], # 0L + top tag
        "CMS-SUS-16-049": [ "CMS-PAS-EXO-16-036", "CMS-PAS-SUS-16-022", "CMS-PAS-SUS-17-004", "CMS-SUS-16-034", "CMS-SUS-16-035", "CMS-SUS-16-037", "CMS-SUS-16-039", "CMS-SUS-16-041", "CMS-SUS-16-042", "CMS-SUS-16-051" ], # All hadronic stop
        "CMS-SUS-16-036": [ "CMS-PAS-EXO-16-036", "CMS-PAS-SUS-16-022", "CMS-PAS-SUS-17-004", "CMS-SUS-16-034", "CMS-SUS-16-035", "CMS-SUS-16-037", "CMS-SUS-16-039", "CMS-SUS-16-041", "CMS-SUS-16-042", "CMS-SUS-16-051" ], # 0L + jets + Etmiss (using MT2)
    }
    allowedATLAS13TeV = {
        "ATLAS-SUSY-2016-15": [ "ATLAS-SUSY-2016-16", "ATLAS-SUSY-2016-24", "ATLAS-SUSY-2018-06", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2015-09" ], # 0L stop
        "ATLAS-SUSY-2016-16": [ "ATLAS-SUSY-2016-15", "ATLAS-SUSY-2016-24", "ATLAS-SUSY-2017-02", "ATLAS-SUSY-2016-17", "ATLAS-SUSY-2016-14", "ATLAS-SUSY-2018-06", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2015-01", "ATLAS-SUSY-2015-09", "ATLAS-SUSY-2016-07", "ATLAS-SUSY-2015-06" ], # 1L stop
        "ATLAS-SUSY-2016-24": [  "ATLAS-SUSY-2016-15", "ATLAS-SUSY-2016-16", "ATLAS-SUSY-2016-28", "ATLAS-SUSY-2017-02", "ATLAS-SUSY-2018-04", "ATLAS-SUSY-2015-01", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2016-26", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2015-06", "ATLAS-SUSY-2016-07" ], # 2+ leptons (e,mu) + jets + Etmiss
        "ATLAS-SUSY-2016-27": [], #  "ATLAS-SUSY-2016-16", "ATLAS-SUSY-2016-24", "ATLAS-SUSY-2018-06", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2015-09"  ], # jets + photon + Etmiss
        "ATLAS-SUSY-2017-03": [ "ATLAS-SUSY-2016-16", "ATLAS-SUSY-2016-28", "ATLAS-SUSY-2019-08", "ATLAS-SUSY-2017-02", "ATLAS-SUSY-2018-31", "ATLAS-SUSY-2016-15" ], # Multilepton EWK searches (2 or 3 leptons)
        "ATLAS-SUSY-2016-26": [ "ATLAS-SUSY-2019-08", "ATLAS-SUSY-2016-17", "ATLAS-SUSY-2016-33", "ATLAS-SUSY-2017-03", "ATLAS-SUSY-2016-16", "ATLAS-SUSY-2016-14" ], # >=2 c jets + MET, lepton veto
        "ATLAS-SUSY-2016-28": [ "ATLAS-SUSY-2016-24", "ATLAS-SUSY-2018-06", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2015-09" ], # 2b
        "ATLAS-SUSY-2017-01": [], # EWK WH(bb) + Etmiss, all lepton multiplicities, with and without photon
        "ATLAS-SUSY-2017-02": [ "ATLAS-SUSY-2016-16", "ATLAS-SUSY-2016-24", "ATLAS-SUSY-2018-06", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2015-09" ], # 0L + jets + Etmiss
        "ATLAS-SUSY-2018-04": [ "ATLAS-SUSY-2016-28", "ATLAS-SUSY-2018-31", "ATLAS-SUSY-2016-16", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2015-09" ], # 2 hadronic taus
        "ATLAS-SUSY-2018-06": [ "ATLAS-SUSY-2016-15", "ATLAS-SUSY-2016-16", "ATLAS-SUSY-2016-28", "ATLAS-SUSY-2017-02", "ATLAS-SUSY-2018-04", "ATLAS-SUSY-2015-01", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2016-26", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2015-06", "ATLAS-SUSY-2016-07" ], # 3 leptons EW-ino
        "ATLAS-SUSY-2018-16": [], # EW production in models with compressed mass spectra, low momentum leptons
        "ATLAS-SUSY-2016-33": [ "ATLAS-SUSY-2016-16", "ATLAS-SUSY-2016-15", "ATLAS-SUSY-2016-28", "ATLAS-SUSY-2018-06", "ATLAS-SUSY-2018-31", "ATLAS-SUSY-2017-02" ], # 2 OSSF leptons + Etmiss
        "ATLAS-SUSY-2018-31": [ "ATLAS-SUSY-2016-14", "ATLAS-SUSY-2016-16", "ATLAS-SUSY-2016-24", "ATLAS-SUSY-2018-06", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2015-09" ], # higgs + b-jets + Etmiss, lepton veto
        "ATLAS-SUSY-2018-32": [ "ATLAS-SUSY-2016-15", "ATLAS-SUSY-2016-16", "ATLAS-SUSY-2016-28", "ATLAS-SUSY-2017-02", "ATLAS-SUSY-2018-06", "ATLAS-SUSY-2015-01", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2016-26", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2015-06", "ATLAS-SUSY-2016-07" ], # 2 leptons + Etmiss
        "ATLAS-SUSY-2019-08": [ "ATLAS-SUSY-2016-14", "ATLAS-SUSY-2016-17", "ATLAS-SUSY-2016-33", "ATLAS-SUSY-2016-15", "ATLAS-SUSY-2016-24", "ATLAS-SUSY-2018-31", "ATLAS-SUSY-2017-02", "ATLAS-SUSY-2018-06", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2015-01", "ATLAS-SUSY-2015-09", "ATLAS-SUSY-2016-07", "ATLAS-SUSY-2015-06" ], # l + higgs + Etmiss
        "ATLAS-SUSY-2015-01": [ "ATLAS-SUSY-2018-04", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2015-09", "ATLAS-SUSY-2016-14", "ATLAS-SUSY-2016-17", "ATLAS-SUSY-2016-33", "ATLAS-SUSY-2017-03", "ATLAS-SUSY-2015-02" ], # 2 b-jets + Etmiss
        "ATLAS-SUSY-2015-02": [ "ATLAS-SUSY-2015-01", "ATLAS-SUSY-2015-09", "ATLAS-SUSY-2016-14", "ATLAS-SUSY-2016-17", "ATLAS-SUSY-2016-26", "ATLAS-SUSY-2016-33", "ATLAS-SUSY-2017-03", "ATLAS-SUSY-2015-06", "ATLAS-SUSY-2016-07" ], # single lepton stop
        "ATLAS-SUSY-2015-09": [ "ATLAS-SUSY-2015-01", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2016-26", "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2015-06", "ATLAS-SUSY-2016-07" ], # jets + 2 SS leptons or >= 3 leptons
        "ATLAS-SUSY-2016-08": [ ], # ?
        "ATLAS-SUSY-2016-07": [ "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2015-09", "ATLAS-SUSY-2016-14", "ATLAS-SUSY-2016-17", "ATLAS-SUSY-2016-33", "ATLAS-SUSY-2017-03", "ATLAS-SUSY-2015-02" ], # 0L + jets + Etmiss
        "ATLAS-SUSY-2015-06": [ "ATLAS-SUSY-2015-02", "ATLAS-SUSY-2015-09", "ATLAS-SUSY-2016-14", "ATLAS-SUSY-2016-17", "ATLAS-SUSY-2016-33", "ATLAS-SUSY-2017-03", "ATLAS-SUSY-2015-02" ], # 0 leptons + 2-6 jets + Etmiss
    }
    ## timothee's matrix
    allowedTimothee = { "ATLAS-SUSY-2019-09": [ "ATLAS-SUSY-2019-08", "ATLAS-SUSY-2019-02", "ATLAS-SUSY-2018-42", "ATLAS-SUSY-2018-41", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2018-23", "ATLAS-SUSY-2018-16", "ATLAS-SUSY-2018-05" ] }
    allowedTimothee["ATLAS-SUSY-2019-08"] = [ "ATLAS-SUSY-2019-09", "ATLAS-SUSY-2019-02", "ATLAS-SUSY-2018-42", "ATLAS-SUSY-2018-41", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2018-23", "ATLAS-SUSY-2018-16", "ATLAS-SUSY-2018-06", "ATLAS-SUSY-2018-05" ]
    allowedTimothee["ATLAS-SUSY-2019-02"]= [ "ATLAS-SUSY-2019-09", "ATLAS-SUSY-2019-08", "ATLAS-SUSY-2018-42", "ATLAS-SUSY-2018-41", "ATLAS-SUSY-2018-23", "ATLAS-SUSY-2018-16", "ATLAS-SUSY-2018-06", "ATLAS-SUSY-2018-05" ]
    allowedTimothee["ATLAS-SUSY-2018-42"] = [ "ATLAS-SUSY-2019-09", "ATLAS-SUSY-2019-08", "ATLAS-SUSY-2019-02", "ATLAS-SUSY-2018-42", "ATLAS-SUSY-2018-41", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2018-23", "ATLAS-SUSY-2018-16", "ATLAS-SUSY-2018-06", "ATLAS-SUSY-2018-05" ]
    allowedTimothee["ATLAS-SUSY-2018-41"] = [ "ATLAS-SUSY-2019-09", "ATLAS-SUSY-2019-08", "ATLAS-SUSY-2019-02", "ATLAS-SUSY-2018-42", "ATLAS-SUSY-2018-41", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2018-23", "ATLAS-SUSY-2018-16", "ATLAS-SUSY-2018-06", "ATLAS-SUSY-2018-05" ]
    allowedTimothee["ATLAS-SUSY-2018-32"] = [ "ATLAS-SUSY-2019-09", "ATLAS-SUSY-2019-08", "ATLAS-SUSY-2019-02", "ATLAS-SUSY-2018-42", "ATLAS-SUSY-2018-41", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2018-23", "ATLAS-SUSY-2018-06" ]
    allowedTimothee["ATLAS-SUSY-2018-23"] = [ "ATLAS-SUSY-2019-09", "ATLAS-SUSY-2019-08", "ATLAS-SUSY-2019-02", "ATLAS-SUSY-2018-42", "ATLAS-SUSY-2018-41", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2018-23", "ATLAS-SUSY-2018-16", "ATLAS-SUSY-2018-06", "ATLAS-SUSY-2018-05" ]
    allowedTimothee["ATLAS-SUSY-2018-16"] = [ "ATLAS-SUSY-2019-09", "ATLAS-SUSY-2019-08", "ATLAS-SUSY-2019-02", "ATLAS-SUSY-2018-42", "ATLAS-SUSY-2018-41", "ATLAS-SUSY-2018-23", "ATLAS-SUSY-2018-06" ]
    allowedTimothee["ATLAS-SUSY-2018-06"] = [ "ATLAS-SUSY-2019-08", "ATLAS-SUSY-2019-02", "ATLAS-SUSY-2018-42", "ATLAS-SUSY-2018-41", "ATLAS-SUSY-2018-32", "ATLAS-SUSY-2018-23", "ATLAS-SUSY-2018-16", "ATLAS-SUSY-2018-05" ]
    allowedTimothee["ATLAS-SUSY-2018-05"] = [ "ATLAS-SUSY-2019-09", "ATLAS-SUSY-2019-08", "ATLAS-SUSY-2019-02", "ATLAS-SUSY-2018-42", "ATLAS-SUSY-2018-41", "ATLAS-SUSY-2018-23", "ATLAS-SUSY-2018-06" ]
    allowedTimothee["CMS-SUS-21-002"] = [ "CMS-SUS-20-001", "CMS-EXO-19-010" ]
    allowedTimothee["CMS-SUS-20-004"] = [ "CMS-SUS-20-001", "CMS-EXO-19-010" ]
    allowedTimothee["CMS-SUS-20-001"] = [ "CMS-SUS-21-002", "CMS-SUS-20-004", "CMS-EXO-19-010" ]
    allowedTimothee["CMS-EXO-19-010"] = [ "CMS-SUS-21-002", "CMS-SUS-20-004", "CMS-SUS-20-001" ]
    allowed = {}
    allowed.update ( allowedATLAS8TeV )
    allowed.update ( allowedCMS8TeV )
    allowed.update ( allowedATLAS13TeV )
    allowed.update ( allowedCMS13TeV )
    update ( allowed, allowedTimothee )
    from tester.tacocombinations import allowedTaco
    update ( allowed, allowedTaco )

    return allowed
    

if __name__ == "__main__":
    matrix = getMatrix()
    print ( matrix )
